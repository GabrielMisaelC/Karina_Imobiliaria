CREATE TABLE TB_ADM (
	ID_ADM INT PRIMARY KEY AUTO_INCREMENT,
	EMAIL_ADM TEXT,
	SENHA_ADM TEXT,
	NOME_ADM TEXT,
	CPF_ADM TEXT
);

CREATE TABLE TB_PRO (
	ID_PRO INT PRIMARY KEY AUTO_INCREMENT,
	NOME_PRO TEXT,
	CPF_PRO TEXT,
	DATA_NASCIMENTO_PRO TEXT,
	RG_PRO TEXT,
	ENDERECO_ATUAL_PRO TEXT,
	ESTADO_CIVIL_PRO TEXT,
	NACIONALIDADE_PRO TEXT,
	PROFISSAO_PRO TEXT,
	RNE_PRO TEXT,
	AGENCIA_PRO TEXT,
	CONTA_PRO TEXT,
	BANCO_PRO TEXT,
	CELULAR_PRO TEXT
);

CREATE TABLE TB_INQ (
	ID_INQ INT PRIMARY KEY AUTO_INCREMENT,
	NOME_INQ TEXT,
	CPF_INQ TEXT,
	CELULAR TEXT,
	CONDICAO_PAGAMANTO_INQ TEXT,
	REN_INQ TEXT,
	PROFISSAO_INQ TEXT,
	NACIONALIDADE_INQ TEXT,
	ENDERECO_ATUAL_INQ TEXT,
	ESTADO_CIVIL_INQ TEXT,
	RG_INQ TEXT,
	DATA_NASCIMENTO_INQ TEXT
);

CREATE TABLE TB_CONTA(
	ID_CONTA INT PRIMARY KEY AUTO_INCREMENT,
	MOTIVO TEXT,
	DESCRICAO TEXT,
	VALOR TEXT,
	DATA_VENCIMENTO TEXT,
	PAGO TEXT,
	DATA_PAGO TEXT
);

CREATE TABLE TB_IMV(
	ID_IMV INT PRIMARY KEY AUTO_INCREMENT,
	ID_PRO INT,
	CEP TEXT,
	LOGRADOURO TEXT,
	BAIRRO_PRO TEXT,
	NUMERO TEXT,
	LOCACAO TEXT,
	VENDA TEXT,
	VALOR_VENDA TEXT,
	VALOR_LOCACAO TEXT,
	STATUS TEXT
);
ALTER TABLE TB_IMV
ADD FOREIGN KEY (ID_PRO) REFERENCES TB_PRO(ID_PRO);

CREATE TABLE TB_CONTRATO(
	ID_CONT INT PRIMARY KEY AUTO_INCREMENT,
	ID_IMV INT,
	ID_PRO INT,
	ID_INQ INT,
	VALOR_MENSAL TEXT,
	PRAZO_CONT TEXT,
	DATA_INICIO_CONT TEXT
);

ALTER TABLE TB_CONTRATO
ADD FOREIGN KEY (ID_IMV) REFERENCES TB_IMV(ID_IMV);
	
ALTER TABLE TB_CONTRATO
ADD FOREIGN KEY (ID_PRO) REFERENCES TB_PRO(ID_PRO);

ALTER TABLE TB_CONTRATO
ADD FOREIGN KEY (ID_INQ) REFERENCES TB_INQ(ID_INQ);
	


///  procedure adm

DELIMITER $$
CREATE PROCEDURE SP_ADM_INSERT (IN SP_NOME_ADM TEXT, IN SP_CPF_ADM TEXT, IN SP_EMAIL_ADM TEXT, IN SP_SENHA_ADM TEXT)
BEGIN
    INSERT INTO TB_ADM (NOME_ADM, CPF_ADM, EMAIL_ADM, SENHA_ADM) VALUES ( SP_NOME_ADM, SP_CPF_ADM, SP_EMAIL_ADM, SP_SENHA_ADM );
END $$
DELIMITER ;

// procedure imovel

DELIMITER $$
CREATE PROCEDURE SP_IMV_INSERT (IN SP_ID_PRO_IMV INT, IN SP_LOGRADOURO_IMV TEXT, IN SP_BAIRRO_IMV TEXT, IN SP_NUMERO_IMV TEXT, IN SP_LOCACAO_IMV TEXT, IN SP_VENDA_IMV TEXT, IN SP_VALOR_VENDA_IMV TEXT, IN SP_VALOR_LOCACAO_IMV TEXT, IN SP_STATUS_IMV TEXT)
BEGIN
    INSERT INTO TB_IMV (ID_PRO, LOGRADOURO, BAIRRO_PRO, NUMERO, LOCACAO, VENDA, VALOR_VENDA, VALOR_LOCACAO, STATUS) VALUES (  SP_ID_PRO_IMV ,  SP_LOGRADOURO_IMV ,  SP_BAIRRO_IMV ,  SP_NUMERO_IMV ,  SP_LOCACAO_IMV ,  SP_VENDA_IMV , SP_VALOR_VENDA_IMV ,  SP_VALOR_LOCACAO_IMV ,  SP_STATUS_IMV );
END $$
DELIMITER ;

// procedure inq

CREATE PROCEDURE SP_INQ_INSERT (IN SP_NOME_INQ TEXT, IN SP_CPF_INQ TEXT, IN SP_CELULAR_INQ TEXT, IN SP_CONDICAO_PAGAMENTO_INQ TEXT, IN SP_REN_INQ TEXT, IN SP_PROFISSAO_INQ TEXT, IN SP_NACIONALIDADE_INQ TEXT, IN SP_ENDERECO_ATUAL_INQ TEXT, IN SP_ESTADO_CIVIL_INQ TEXT, IN SP_RG_INQ TEXT, IN  SP_DATA_NASCIMENTO_INQ TEXT)
BEGIN
    INSERT INTO TB_INQ (NOME_INQ, CPF_INQ, CELULAR, CONDICAO_PAGAMANTO_INQ, REN_INQ, PROFISSAO_INQ, NACIONALIDADE_INQ, ENDERECO_ATUAL_INQ, ESTADO_CIVIL_INQ, RG_INQ, DATA_NASCIMENTO_INQ) VALUES  (  SP_NOME_INQ ,  SP_CPF_INQ , SP_CELULAR_INQ,  SP_CONDICAO_PAGAMENTO_INQ ,  SP_REN_INQ ,  SP_PROFISSAO_INQ ,  SP_NACIONALIDADE_INQ , SP_ENDERECO_ATUAL_INQ , SP_ESTADO_CIVIL_INQ ,  SP_RG_INQ ,  SP_DATA_NASCIMENTO_INQ );
END $$
DELIMITER ;



BEGIN
    INSERT INTO inquilino (NOME_INQ, CPF_INQ, CELULAR, CONDICAO_PAGAMENTO_INQ, REN_INQ, PROFISSAO_INQ, NACIONALIDADE_INQ, ENDERECO_ATUAL_INQ, ESTADO_CIVIL_INQ, RG_INQ, DATA_NASCIMENTO_INQ) VALUES  (SP_NOME_INQ ,  SP_CPF_INQ ,  SP_CELULAR ,  SP_CONDICAO_PAGAMENTO_INQ ,  SP_REN_INQ , SP_PROFISSAO_INQ , SP_NACIONALIDADE_INQ ,  SP_ENDERECO_ATUAL_INQ ,  SP_ESTADO_CIVIL_INQ ,  SP_RG_INQ ,  SP_DATA_NASCIMENTO_INQ );
END